<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ご主人様タイプ診断（MBTIミニ12問・レースver.）｜PO・TORO Presents</title>
<meta name="description" content="PO・TORO Presents『ご主人様タイプ診断（MBTIミニ12問）』。MB1〜MB12の2択にお答えいただくと、MBTI風4文字タイプと各軸の傾向・称号を表示します。">
<style>
  :root{
    --bg:#fff8fc; --ink:#2a2a2a; --muted:#786e75;
    --accent:#ff68b7; --accent-2:#ff4ea9;
    --card:#fff; --lace:#ffd3ea; --lace-2:#ffe6f3;
  }
  html,body{
    margin:0; padding:0; color:var(--ink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Meiryo","Helvetica Neue",Arial,sans-serif;
    background: var(--bg);
    background-image:
      radial-gradient(rgba(255,168,214,.25) 1px, transparent 1px),
      radial-gradient(rgba(255,168,214,.18) 1px, transparent 1px);
    background-size: 16px 16px, 24px 24px;
    background-position: 0 0, 8px 8px;
  }
  .container{max-width:960px;margin:28px auto;padding:16px}
  .card{
    position:relative;background:var(--card);border-radius:18px;padding:20px;margin-bottom:18px;
    box-shadow:0 10px 28px rgba(255,104,183,.18),0 6px 16px rgba(0,0,0,.06);
    border:14px solid transparent;
    border-image-source:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>\
<defs>\
<pattern id='lace' width='32' height='32' patternUnits='userSpaceOnUse'>\
<circle cx='16' cy='16' r='14' fill='none' stroke='%23ffd3ea' stroke-width='1.6'/>\
<circle cx='16' cy='16' r='10.5' fill='none' stroke='%23ffe6f3' stroke-width='1.2'/>\
<circle cx='16' cy='16' r='7' fill='none' stroke='%23ffdbea' stroke-width='1.2'/>\
</pattern>\
</defs>\
<rect x='0' y='0' width='64' height='64' fill='url(%23lace)'/>\
</svg>");
    border-image-slice: 32; border-image-repeat: round;
  }
  .ribbon{
    display:inline-block; background:linear-gradient(180deg,var(--accent),var(--accent-2)); color:#fff;
    font-weight:900; padding:10px 16px; border-radius:12px; box-shadow:0 8px 16px rgba(255,104,183,.35);
  }
  h1{font-size:1.85rem;margin:8px 0 6px;font-weight:900;letter-spacing:.5px}
  .lead{color:var(--muted); margin:0}

  .q{margin:16px 0 12px;font-weight:800}
  .opts{display:grid;grid-template-columns:1fr;gap:9px}
  @media (min-width:760px){ .opts{grid-template-columns:1fr 1fr} }
  .opt{
    border:1.8px solid #f7d9eb; border-radius:12px; padding:12px 14px; background:#fff; cursor:pointer; user-select:none;
    transition:transform .06s ease, border-color .2s ease, background .2s ease;
  }
  .opt:hover{ transform: translateY(-1px); }
  .opt.selected{ border-color:var(--accent); background:#fff2f8; }

  .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  button{appearance:none;border:none;border-radius:999px;padding:12px 18px;font-weight:900;cursor:pointer;background:var(--accent);color:#fff;box-shadow:0 6px 20px rgba(255,104,183,.35)}
  button.secondary{background:#f3f3f3;color:#333;box-shadow:none}

  .result{border:2px dashed var(--lace);border-radius:16px;padding:16px;background:linear-gradient(180deg,#fff,#fff6fb)}
  .footer{text-align:center;color:#777;font-size:.9rem;margin-top:10px}
</style>
</head>
<body>
  <div class="container">
    <div class="card">
      <span class="ribbon">PO・TORO Presents</span>
      <h1>ご主人様タイプ診断（MBTIミニ12問・レースver.）</h1>
      <p class="lead">ご主人様、MB1〜MB12の二択にお答えくださいませ。PO・TOROでの過ごし方にぴったりな傾向を、丁重にご提示いたします。</p>
    </div>

    <!-- MBTIミニ設問のみ（MB1〜MB12） -->
    <div id="mbtiBlock"></div>

    <div class="card">
      <div class="controls">
        <button id="btnSubmit">診断する</button>
        <button id="btnReset" class="secondary">最初からもう一度</button>
      </div>
    </div>

    <!-- 結果カード（MBTIのみ） -->
    <div id="resultCard" class="card" style="display:none;">
      <div class="result">
        <div id="resultTitle" style="font-size:1.2rem;font-weight:900;margin-bottom:6px;"></div>
        <div id="mbtiLine" style="font-weight:900;margin-top:2px;"></div>

        <div id="mbtiBars" style="display:grid;gap:6px;margin-top:10px"></div>

        <div id="mbtiPraises" style="color:#444;line-height:1.9;margin-top:10px;"></div>
        <div id="mbtiTips" style="margin-top:10px;">
          <div style="font-weight:800;margin-bottom:6px;">PO・TOROでのおすすめの過ごし方（ご主人様向け）</div>
          <ul id="mbtiTipsList" style="margin:6px 0 0 1em; padding:0; line-height:1.9;"></ul>
        </div>
      </div>
    </div>

    <div class="footer">© PO・TORO</div>
  </div>

<script>
/* === MBTI 重み（ミニ設問のみなので 1.0 のままでOK） === */
const MBTI_WEIGHT_MINI = 1.0;

/* === ご主人様口調：MB1〜MB12（各軸3問ずつ：EI/SN/TF/JP） === */
const MBTI_QUESTIONS = [
  // EI-1
  { axis:"EI", q:"ご帰宅直後、ご主人様はまずどのようにお過ごしになりますか？",
    a:"メイドと乾杯コールで場をパッと明るくしたいです！",
    b:"席で静かにひと息、空気に馴染ませていただきたいです" },

  // EI-2
  { axis:"EI", q:"初めましてのメイドへのご挨拶、距離感はいかがなさいます？",
    a:"ノリ良く自己紹介して一気に距離を縮めたいです",
    b:"相手の様子を見ながら、自然に近づきたいです" },

  // EI-3
  { axis:"EI", q:"賑わいと静けさ、どちらのお席が本日は心地よろしいでしょう？",
    a:"賑やかなフロアでご一緒に盛り上がりたいです！",
    b:"落ち着いたお席でしっとり楽しみたいです" },

  // SN-1
  { axis:"SN", q:"本日のご注文、決め手になさるのはどちらでございます？",
    a:"味・材料・価格など“確実な情報”を重視します",
    b:"雰囲気・物語性・直感の“ときめき”で選びます" },

  // SN-2
  { axis:"SN", q:"店内で重視されるのは、どちらのこだわりでございます？",
    a:"具体的な体験（ゲーム/チェキ/サービス）の充実",
    b:"世界観の没入感（BGM/照明/設定）の深さ" },

  // SN-3
  { axis:"SN", q:"新メニューと定番、どちらに心が動かれますか？",
    a:"まずは定番で確実に満足を得たいです（安定重視）",
    b:"新作や限定に挑戦して胸の高鳴りを味わいたいです（直感重視）" },

  // TF-1
  { axis:"TF", q:"メイドから席替えや別メニューをご提案した場合、判断軸は？",
    a:"混雑・コスパ・動線など“理由”を伺って決めたいです",
    b:"ご自身と相手の“気持ち”が心地よい方を選びたいです" },

  // TF-2
  { axis:"TF", q:"会話はどのような進め方がお好みでございますか？",
    a:"情報が整理され結論が見える会話が嬉しいです",
    b:"共感が伝わる、あたたかい雰囲気が嬉しいです" },

  // TF-3
  { axis:"TF", q:"チェキのポーズ選び、どちらの決め方が安心でございます？",
    a:"テーマ・構図・順序を決めて手際よく進めたいです",
    b:"その時の気分や表情で楽しく決めていきたいです" },

  // JP-1
  { axis:"JP", q:"本日のご滞在、進め方はいかがいたしましょう？",
    a:"体験→チェキ→余韻…とある程度の流れを決めたいです",
    b:"その場のひらめきで自由にアレンジしたいです" },

  // JP-2
  { axis:"JP", q:"次回のご帰宅はどのようにお決めになりますか？",
    a:"日程まで早めに押さえて安心したいです",
    b:"気分が乗ったタイミングでふらっと決めたいです" },

  // JP-3
  { axis:"JP", q:"イベント参加や推し回、スケジュールの立て方は？",
    a:"出演日や開店時間を確認して計画的に動きたいです",
    b:"当日のワクワク感に合わせて機動的に動きたいです" },
];

/* === 称号（MBTI→肩書き） === */
const MBTI_TITLES = {
  ESTP:"瞬発アクションのアスリートご主人様",
  ESFP:"きゅん拡散のムードメーカーご主人様",
  ENFP:"物語点火の自由人ご主人様",
  ENTP:"考察花火のトリックスターご主人様",
  ESTJ:"段取り名人のディレクターご主人様",
  ESFJ:"場内調和のホスピタリティご主人様",
  ENFJ:"巻き込み上手のカリスマご主人様",
  ENTJ:"采配巧者のプロデューサーご主人様",
  ISTP:"寡黙技巧のクラフターご主人様",
  ISFP:"余韻を紡ぐアーティストご主人様",
  INFP:"物語耽溺のドリーマーご主人様",
  INTP:"分析静思のリサーチャーご主人様",
  ISTJ:"規律堅実のエグゼクティブご主人様",
  ISFJ:"癒し気配りのコンシェルジュご主人様",
  INFJ:"世界観織りのメンターご主人様",
  INTJ:"戦略設計のアーキテクトご主人様",
};

/* === レンダリング === */
const elMBTI=document.getElementById("mbtiBlock");
const elResult=document.getElementById("resultCard");
const elTitle=document.getElementById("resultTitle");
const elLine=document.getElementById("mbtiLine");
const elBars=document.getElementById("mbtiBars");
const elPraises=document.getElementById("mbtiPraises");
const elTips=document.getElementById("mbtiTipsList");

function renderMBTIQuestions(container){
  container.innerHTML = "";
  MBTI_QUESTIONS.forEach((q,i)=>{
    const wrap=document.createElement('div');
    wrap.className='card';
    wrap.innerHTML = `
      <div class="q">MB${i+1}. ${q.q}</div>
      <div class="opts">
        <div class="opt" data-axis="${q.axis}" data-pick="A">${q.a}</div>
        <div class="opt" data-axis="${q.axis}" data-pick="B">${q.b}</div>
      </div>`;
    wrap.querySelectorAll('.opt').forEach(opt=>{
      opt.onclick=()=>{
        wrap.querySelectorAll('.opt').forEach(o=>o.classList.remove('selected'));
        opt.classList.add('selected');
        wrap.dataset.answer = opt.getAttribute('data-pick'); // "A"/"B"
      };
    });
    container.appendChild(wrap);
  });
}

/* === 判定（MBTIのみ） === */
function computeMBTI(){
  const cards=[...document.querySelectorAll('#mbtiBlock .card')];
  const score={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
  for(const c of cards){
    if(!('answer' in c.dataset)) return {error:"未回答の設問があります。"};
    const axis = c.querySelector('.opt').getAttribute('data-axis'); // "EI"など
    const pick = c.dataset.answer; // "A" or "B"
    const L = axis[0], R = axis[1];
    score[pick==='A' ? L : R] += MBTI_WEIGHT_MINI;
  }
  const code =
    (score.E >= score.I ? 'E':'I') +
    (score.S >= score.N ? 'S':'N') +
    (score.T >= score.F ? 'T':'F') +
    (score.J >= score.P ? 'J':'P');

  const total = {
    EI: score.E + score.I || 1,
    SN: score.S + score.N || 1,
    TF: score.T + score.F || 1,
    JP: score.J + score.P || 1,
  };
  const pct = k => {
    const group = (k==='E'||k==='I')?'EI':(k==='S'||k==='N')?'SN':(k==='T'||k==='F')?'TF':'JP';
    return Math.round(100 * score[k] / total[group]);
  };
  return { code, score, pct };
}

/* === 表示用の辞書（ご主人様口調） === */
const MBTI_PRAISE = {
  E: "ご主人様は場を明るく巻き込む即興力に長けていらっしゃいます。",
  I: "ご主人様は静かな観察眼と細やかな気配りがお見事でございます。",
  S: "ご主人様は具体的な体験やディテールに強く、満足度を底上げなさいます。",
  N: "ご主人様は世界観や物語性を楽しむ発想力が魅力でございます。",
  T: "ご主人様はロジカルなご判断で、体験の質を高めてくださいます。",
  F: "ご主人様は共感力が高く、場の心地よさを自然に育ててくださいます。",
  J: "ご主人様は段取りと計画性に優れ、安心して楽しめる流れをお作りになります。",
  P: "ご主人様は柔軟さと遊び心が豊かで、その日いちばんの楽しさを引き寄せられます。"
};

const MBTI_TIPS = {
  E: ["メイドとミニゲームや乾杯コールでウォームアップ","周りを巻き込むチェキ企画で思い出を量産"],
  I: ["席の雰囲気を落ち着き寄りにして、静かな会話をじっくり","目線や小さな変化に気づく“観察プレイ”を楽しむ"],
  S: ["おすすめを“実物・材料・温度感”で詳しく聞く","限定フードや旬のトピックをチェックして確実に満喫"],
  N: ["世界観設定やBGMの裏話を深掘り、物語性に浸る","テーマ回・イベント日を狙って没入度MAXに"],
  T: ["滞在プランを最適化（体験→チェキ→余韻）","“おすすめの根拠”を聞いて納得感UP"],
  F: ["気持ちのシェアを大切に、共感できる話題で心をほぐす","メイドの“最近うれしかったこと”を引き出して和やかに"],
  J: ["推しの出演日・席・滞在時間を事前に決定して安心感を確保","最後に“次回の楽しみ”を1つ予約して余韻を延長"],
  P: ["当日のひらめきで“やりたいことリスト”を随時更新","気になるメニューはまず一口お試し、楽しさ優先で回遊"]
};

/* === 結果描画 === */
function renderBars(r){
  elBars.innerHTML = [
    ['E','I'], ['S','N'], ['T','F'], ['J','P']
  ].map(([L,R])=>{
    const lp = r.pct(L), rp = r.pct(R);
    return `
      <div style="display:flex;gap:8px;align-items:center">
        <span style="width:22px">${L}</span>
        <div style="flex:1;height:10px;background:#ffe6f3;border-radius:8px;overflow:hidden">
          <div style="height:100%;width:${lp}%;background:#ff68b7"></div>
        </div>
        <span style="width:40px;text-align:right">${lp}%</span>
        <span style="width:10px"></span>
        <span style="width:22px">${R}</span>
        <div style="flex:1;height:10px;background:#e7efff;border-radius:8px;overflow:hidden">
          <div style="height:100%;width:${rp}%;background:#6aa7ff"></div>
        </div>
        <span style="width:40px;text-align:right">${rp}%</span>
      </div>`;
  }).join('');
}

function showResult(){
  const r = computeMBTI(); if(r.error){ alert(r.error); return; }

  // 称号（肩書き）を付けて表示
  const title = MBTI_TITLES[r.code] || "ご主人様";
  elTitle.textContent = `ご主人様のMBTI風傾向は「${r.code}」でございます（称号：${title}）。`;

  elLine.textContent  = `E${r.pct('E')}% / I${r.pct('I')}%｜S${r.pct('S')}% / N${r.pct('N')}%｜T${r.pct('T')}% / F${r.pct('F')}%｜J${r.pct('J')}% / P${r.pct('P')}%`;

  renderBars(r);

  elPraises.textContent = r.code.split('').map(ch => MBTI_PRAISE[ch]).join(' ');

  elTips.innerHTML = '';
  r.code.split('').slice(0,3).forEach(ax=>{
    (MBTI_TIPS[ax]||[]).forEach(s=>{
      const li=document.createElement('li'); li.textContent=s; elTips.appendChild(li);
    });
  });

  elResult.style.display="block";
  window.scrollTo({ top: elResult.offsetTop - 12, behavior:"smooth" });
}

function resetQuiz(){
  renderMBTIQuestions(elMBTI);
  elResult.style.display="none";
}

/* 初期化 */
document.addEventListener("DOMContentLoaded", ()=>{
  renderMBTIQuestions(elMBTI);
});
document.getElementById("btnSubmit").addEventListener("click", showResult);
document.getElementById("btnReset").addEventListener("click", resetQuiz);
</script>
</body>
</html>
